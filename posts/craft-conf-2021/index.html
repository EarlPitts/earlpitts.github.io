<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="Bendeguz Seres ">
<meta name="description" content="Recently, I had the opportunity to attend Craft Conference. Unfortunately, the event was entirely online (due to the pandemic), which means no free food, but the variety of the talks had compensated for it. The conference was 3 days long, and featured many well-knows speakers (like Kevlin Henney, Dave Farley, and others). There were 6 virtual &amp;ldquo;stages&amp;rdquo; you could choose from at any given time, and although the organizers tried putting different topics in each segment, so everyone could find their nieche, I was in a constant dilemma, trying to decide which talk to attend." />
<meta name="keywords" content="homepage, blog, science, informatics, development, programming" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="http://bendeguz.xyz/posts/craft-conf-2021/" />


    <title>
        
            CALM Theory :: Bendeguz Seres 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.393856bf2c430bb6c01d7af07c6fe966e7cce8073435cfbbc46e590bab7405ef.css">






<meta itemprop="name" content="CALM Theory">
<meta itemprop="description" content="Recently, I had the opportunity to attend Craft Conference. Unfortunately, the event was entirely online (due to the pandemic), which means no free food, but the variety of the talks had compensated for it. The conference was 3 days long, and featured many well-knows speakers (like Kevlin Henney, Dave Farley, and others). There were 6 virtual &ldquo;stages&rdquo; you could choose from at any given time, and although the organizers tried putting different topics in each segment, so everyone could find their nieche, I was in a constant dilemma, trying to decide which talk to attend."><meta itemprop="datePublished" content="2021-07-06T09:05:39+02:00" />
<meta itemprop="dateModified" content="2021-07-06T09:05:39+02:00" />
<meta itemprop="wordCount" content="863">
<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="CALM Theory"/>
<meta name="twitter:description" content="Recently, I had the opportunity to attend Craft Conference. Unfortunately, the event was entirely online (due to the pandemic), which means no free food, but the variety of the talks had compensated for it. The conference was 3 days long, and featured many well-knows speakers (like Kevlin Henney, Dave Farley, and others). There were 6 virtual &ldquo;stages&rdquo; you could choose from at any given time, and although the organizers tried putting different topics in each segment, so everyone could find their nieche, I was in a constant dilemma, trying to decide which talk to attend."/>







    <meta property="article:published_time" content="2021-07-06 09:05:39 &#43;0200 CEST" />








    </head>

    <body class="dark-theme">
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">cd ~</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="http://bendeguz.xyz/about">About</a></li><li><a href="http://bendeguz.xyz/posts">Blog</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            

            <span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>
</span>
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        5 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="http://bendeguz.xyz/posts/craft-conf-2021/">CALM Theory</a>
      </h1>

      

      <div class="post-content">
        <p>Recently, I had the opportunity to attend Craft Conference.
Unfortunately, the event was entirely online (due to the pandemic), which means no free food, but the variety of the talks had compensated for it.
The conference was 3 days long, and featured many well-knows speakers (like Kevlin Henney, Dave Farley, and others).
There were 6 virtual &ldquo;stages&rdquo; you could choose from at any given time, and although the organizers tried putting different topics in each segment, so everyone could find their nieche, I was in a constant dilemma, trying to decide which talk to attend.
Fortunately, most of the talks have recordings available for the attendees.
This blogpost is about one of the talks I attended, which was given by Joe Hellerstein, a  professor at UC Berkeley, about the CALM Theory.</p>
<h2 id="calm">CALM</h2>
<p>So what is CALM, and why is it important?
Before answering these questions, let&rsquo;s start first from a broader perspective.
As I will discuss it shortly, CALM is about distributed systems, more specifically some of their attributes, so first we should look at them.
As cloud computing is rapidly becoming the norm these days, the need for large-scale distributed systems is skyrocketing.
As we approach the limit&rsquo;s of Moore&rsquo;s law, single computers are becoming too slow to be used for serious work, hence the need for putting them into a cluster, so they can solve them problem in parallel, drastically reducing the time needed.</p>
<h2 id="coordination">Coordination</h2>
<p>This is where the problem of coordination comes in.
For the computers to be able to do anything meaningful, somehow they have to coordinate between themselves.
Alas, the problem of coordination is not a trivial one.
There are existing protocols today, that are proved to be correct, like Paxos, or the Two-Phase Commit, but they are hard to implement, and, consequently, easy to screw up.
The other, arguably bigger problem with them, is that they are very costly.
Coordination can have a tremendous impact on performance, which makes it hard to create scalable systems.
A figure I took from the talk was about modern key-value stores: they can spend 90%(!) percent of their time waiting on coordination.
That&rsquo;s a huge amount of computation power that could be spent elsewhere.</p>
<h2 id="monotonicity">Monotonicity</h2>
<p>One last quick definition, before I start discussing CALM itself: monotonicity.
Monotonicity is the formal definition of the group of problems, that need coordination.
If we can prove that a problem is monotonic, then we can be sure that a coordination-free implementation exists for it, that guarantees consistency.
If the problem is non-monotonic, than it always requires coordination.
I think you can already see where this is going.</p>
<h2 id="calm-again">CALM Again</h2>
<p>CALM is mainly about avoiding coordination if possible.
It stands for Consistency as Logical Monotonicity, and it shows that monotonicity is what decides if a problem needs coordination or not.
It allows us to formally reason about the given problem, and make sure that if possible, we choose the most optimal implementation, by avoiding coordination.
Before CALM, the literature was mainly occupied with &ldquo;memory models&rdquo; and &ldquo;storage consistency&rdquo;, which was so low-level, that it was mostly irrelevant to application designers.
The question of when is it possible to avoid coordination was never asked.</p>
<p>It&rsquo;s also kind of a &ldquo;positive&rdquo; theory: it&rsquo;s about what is possible for a smart engineer to do.
In contrast, the CAP Theorem can be considered as a &ldquo;negative&rdquo; one.
The CAP Theorem states that a system can exhibit only two of the following properties: <em>consistency</em>, <em>availability</em>, <em>partition-tolerance</em>.
So it&rsquo;s about what is impossible.
Fortunately, the CAP Theorem only holds true if we consider arbitrary programs.
If we apply some constraints, all 3 of the properties can be achieved, and of course, using CALM, we can achieve all of them.
So CALM provides a formal framework that verifies the intuition, that we can work around CAP.</p>
<p>Using CALM principles with our existing tools can be hard, as they don&rsquo;t provide and easy way to apply them by default.
For example, tradition imperative languages model the world as a collection of named, mutable variables.
In this framework, it can be tricky to apply CALM principles.
If you are thinking now about functional languages, then you are right, it&rsquo;s much easier to apply these principles with them.
Functional languages use immutable variables (at least the <em>purely</em> functional ones), which is a monotonic pattern.
Immutable variables then can be generalized to immutable <em>data structures</em>.</p>
<h2 id="bloom">Bloom</h2>
<p>To make it even easier to apply CALM principles, there is a language called Bloom, created by the same people.
You can check it out <a href="http://bloom-lang.net/">here</a>.
Bloom&rsquo;s goal is to make distributed systems easier to program and reason about.
As bloom is inherently data-centric, it represents the system state and events as named data.
All computation is then expressed as queries over this data.
By doing this, bloom makes monotonic patterns the default, and the easiest constructs to work with.
One consequence of this is that the checking of the monotonicity of the program is as easy as running a syntax check.</p>
<p>Obviously there is much more to this topic, I just barely scratched the surface with this post, so if you are interested, I encourage you to read the <a href="https://arxiv.org/abs/1901.01930">paper</a>.</p>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        863 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2021-07-06 09:05 &#43;0200
        

         
          
        
      </p>
    </div>

    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h"></span>
          <hr />
        </div>

        <div class="pagination__buttons">
          

          
            <span class="button next">
              <a href="http://bendeguz.xyz/posts/uefi-and-secure-boot/">
                <span class="button__text">UEFI and Secure Boot</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    


    

  </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2021</span>
            
                <span><a href="http://bendeguz.xyz/">Bendeguz Seres</a></span>
            
            
                <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span>
            <span><a href="http://bendeguz.xyz/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
          </div>
    </div>
</footer>

            
        </div>

        




<script type="text/javascript" src="/bundle.min.a0f363fdf81cdc5cfacc447a79c33189eb000d090336cd04aac8ee256f423b3133b836c281944c19c75e38d0b0b449f01ce5807e37798b7ac94ac1db51983fc4.js" integrity="sha512-oPNj/fgc3Fz6zER6ecMxiesADQkDNs0EqsjuJW9COzEzuDbCgZRMGcdeONCwtEnwHOWAfjd5i3rJSsHbUZg/xA=="></script>



    </body>
</html>
